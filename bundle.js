(()=>{"use strict";var t={138:(t,e,n)=>{n.d(e,{Z:()=>r});var i=n(645),o=n.n(i)()((function(t){return t[1]}));o.push([t.id,"/* ******************** */\n/* Reset */\n/* ******************** */\n* {\n  margin: 0 auto;\n  padding: 0;\n}\n\na {\n  text-decoration: none;\n  color: lightblue;\n}\n\na:hover {\n  text-decoration: underline;\n}\n\np {\n  font-size: 20px;\n}\n\nh1 {\n  font-size: 38px;\n}\n\nul {\n  list-style: none;\n  text-align: center;\n  margin-bottom: 15px;\n}\n\nbutton {\n  border-radius: 4px;\n  padding: 10px 10px;\n  cursor: pointer;\n}\n\n/* ******************** */\n/* Game */\n/* ******************** */\n\n#canvas {\n  display: block;\n  border: 3px solid orange;\n  background: transparent;\n  background-image: linear-gradient(0deg, transparent 24%,\n    rgba(255, 255, 255, .05) 25%,\n    rgba(255, 255, 255, .05) 26%, transparent 27%, transparent 74%, rgba(255, 255, 255, .05) 75%, rgba(255, 255, 255, .05) 76%, transparent 77%, transparent),\n    linear-gradient(90deg, transparent 24%, rgba(255, 255, 255, .05) 25%,\n    rgba(255, 255, 255, .05) 26%, transparent 27%, transparent 74%, rgba(255, 255, 255, .05) 75%, rgba(255, 255, 255, .05) 76%, transparent 77%, transparent);\n  background-size: 50px 50px;\n}\n\n/* ******************** */\n/* Flex */\n/* ******************** */\n\n.d-flex {\n  display: flex;\n}\n\n.justify-content-between {\n  justify-content: space-between;\n}\n\n.justify-content-center {\n  justify-content: center;\n}\n\n.align-items-center {\n  align-items: center;\n}\n\n.flex-column {\n  flex-direction: column;\n}\n\n/* ******************** */\n/* Text */\n/* ******************** */\n\n.color-white {\n  color: white;\n}\n\n.color-blue {\n  color: lightblue;\n}\n\n.color-green {\n  color: lightgreen;\n}\n\n.color-black {\n  color: black;\n}\n\n.bold {\n  font-weight: bold;\n}\n\n.font-size-14 {\n  font-size: 14px !important;\n}\n\n.font-size-16 {\n  font-size: 16px !important;\n}\n\n/* ******************** */\n/* Margin */\n/* ******************** */\n\n.mb-25 {\n  margin-bottom: 25px;\n}\n\n.mb-10 {\n  margin-bottom: 10px;\n}\n\n.mb-6 {\n  margin-bottom: 6px;\n}\n\n.ml-4 {\n  margin-left: 4px;\n}\n\n.mt-auto {\n  margin-top: auto;\n}\n\n.my-10 {\n  margin-top: 10px;\n  margin-bottom: 10px;\n}\n\n.mr-4 {\n  margin-right: 4px;\n}\n\n.mr-8 {\n  margin-right: 8px;\n}\n\n.mr-10 {\n  margin-right: 10px;\n}\n\n.ml-8 {\n  margin-left: 8px;\n}\n\n.ml-0 {\n  margin-left: 0;\n}\n\n.mt-15 {\n  margin-top: 15px;\n}\n\n.mx-8 {\n  margin-left: 8px;\n  margin-right: 8px;\n}\n\n.m-auto {\n  margin: auto;\n}\n\n.mx-auto {\n  margin-left: auto;\n  margin-right: auto;\n}\n\n/* ******************** */\n/* Padding */\n/* ******************** */\n\n.p-15 {\n  padding: 15px;\n}\n\n/* ******************** */\n/* Backgrounds & Borders */\n/* ******************** */\n\n.bg-white {\n  background-color: white;\n}\n\n.bg-black {\n  background-color: black;\n}\n\n.border-bottom-orange {\n  border-bottom: 2px solid orange;\n}\n\n.btn-orange {\n  background-color: orange;\n  border: 2px solid orange;\n}\n\n/* ******************** */\n/* Utils */\n/* ******************** */\n\n.vw-100 {\n  width: 100vw;\n}\n\n.vh-100 {\n  height: 100vh;\n}\n\n.h-100 {\n  height: 100%;\n}\n\n.text-center {\n  text-align: center;\n}\n\n.d-none {\n  display: none !important;\n}\n\n.d-block {\n  display: block !important;\n}\n\n.position-relative {\n  position: relative;\n}\n\n.position-absolute {\n  position: absolute;\n}\n\n.overlay {\n  position: absolute;\n  display: block;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0,0,0,0.5);\n  z-index: 2;\n  cursor: pointer;\n}\n\n.top-50 {\n  top: 45%;\n}\n\n.left-50 {\n  left: 45%;\n}\n\n.modal {\n  height: 400px;\n  width: 400px;\n  z-index: 1000;\n}\n\n.modal > ul {\n  text-align: left;\n}\n",""]);const r=o},645:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,i){"string"==typeof t&&(t=[[null,t,""]]);var o={};if(i)for(var r=0;r<this.length;r++){var s=this[r][0];null!=s&&(o[s]=!0)}for(var a=0;a<t.length;a++){var c=[].concat(t[a]);i&&o[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),e.push(c))}},e}},379:(t,e,n)=>{var i,o=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),r=[];function s(t){for(var e=-1,n=0;n<r.length;n++)if(r[n].identifier===t){e=n;break}return e}function a(t,e){for(var n={},i=[],o=0;o<t.length;o++){var a=t[o],c=e.base?a[0]+e.base:a[0],u=n[c]||0,l="".concat(c," ").concat(u);n[c]=u+1;var h=s(l),f={css:a[1],media:a[2],sourceMap:a[3]};-1!==h?(r[h].references++,r[h].updater(f)):r.push({identifier:l,updater:y(f,e),references:1}),i.push(l)}return i}function c(t){var e=document.createElement("style"),i=t.attributes||{};if(void 0===i.nonce){var r=n.nc;r&&(i.nonce=r)}if(Object.keys(i).forEach((function(t){e.setAttribute(t,i[t])})),"function"==typeof t.insert)t.insert(e);else{var s=o(t.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(e)}return e}var u,l=(u=[],function(t,e){return u[t]=e,u.filter(Boolean).join("\n")});function h(t,e,n,i){var o=n?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(t.styleSheet)t.styleSheet.cssText=l(e,o);else{var r=document.createTextNode(o),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(r,s[e]):t.appendChild(r)}}function f(t,e,n){var i=n.css,o=n.media,r=n.sourceMap;if(o?t.setAttribute("media",o):t.removeAttribute("media"),r&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}var p=null,d=0;function y(t,e){var n,i,o;if(e.singleton){var r=d++;n=p||(p=c(e)),i=h.bind(null,n,r,!1),o=h.bind(null,n,r,!0)}else n=c(e),i=f.bind(null,n,e),o=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else o()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=(void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i));var n=a(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var i=0;i<n.length;i++){var o=s(n[i]);r[o].references--}for(var c=a(t,e),u=0;u<n.length;u++){var l=s(n[u]);0===r[l].references&&(r[l].updater(),r.splice(l,1))}n=c}}}}},e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={id:i,exports:{}};return t[i](o,o.exports,n),o.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t=n(379),e=n.n(t),i=n(138);function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}e()(i.Z,{insert:"head",singleton:!1}),i.Z.locals;var r=function(){function t(e,n,i,o,r,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=e,this.y=n,this.size=i,this.color=o,this.dx=r,this.dy=s,this.width=i/2}var e,n;return e=t,(n=[{key:"move",value:function(t){this.checkBounds(t.ship),this.x+=this.dx,this.y+=this.dy,this.updatePosition(t)}},{key:"checkBounds",value:function(t){if(this.x>720){var e=0;e===t.x&&(e+=30),this.x=e,this.y=Math.floor(540*Math.random())}else this.x+this.size<=0&&(this.x=720-this.size,this.y=Math.floor(540*Math.random()));if(this.y>540){var n=0;n===t.y&&(n+=30),this.y=n,this.x=Math.floor(720*Math.random())}else this.y<=0&&(this.y=540-this.size,this.x=Math.floor(720*Math.random()))}}])&&o(e.prototype,n),t}();function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(s,t);var e,n,i,o,r=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=l(i);if(o){var n=l(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return u(this,t)});function s(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(n=r.call(this,t,e,10,"white",0,0)).angle=0,n.lives=2,n.bombs=2,n}return e=s,(n=[{key:"draw",value:function(t){t.save(),t.translate(this.x,this.y),t.rotate(this.angle),t.beginPath(),t.moveTo(-this.size/2,this.size/2),t.lineTo(this.size,0),t.lineTo(-this.size/2,-this.size/2),t.fillStyle=this.color,t.fill(),t.restore(),t.closePath()}},{key:"updatePosition",value:function(t){this.dx+=this.dx>0?-.01:.01,this.dy+=this.dy>0?-.01:.01,t.input.pressed.left&&(this.dx-=.1),t.input.pressed.right&&(this.dx+=.1),t.input.pressed.up&&(this.dy-=.1),t.input.pressed.down&&(this.dy+=.1),t.input.pressed.rotateLeft&&(this.angle-=.1),t.input.pressed.rotateRight&&(this.angle+=.1)}},{key:"checkBounds",value:function(t){t.x>720-t.size&&(this.dx=0,this.x=720-this.size),this.y>540-this.size&&(this.dy=0,this.y=540-this.size),this.y<this.size&&(this.dy=0,this.y=this.size),this.x<this.size&&(this.dx=0,this.x=this.size)}}])&&a(e.prototype,n),s}(r);function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function y(t,e){return!e||"object"!==f(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var b=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(s,t);var e,n,i,o,r=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=m(i);if(o){var n=m(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return y(this,t)});function s(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s);var n=Math.floor(720*Math.random());n>=t.ship.x-100&&n<=t.ship.x+100&&(n+=200);var i=Math.floor(720*Math.random()),o=Math.random()<.5?-.5:.5,a=Math.random()<.5?-.5:.5;return(e=r.call(this,n,i,20,"purple",o,a)).points=10,e}return e=s,(n=[{key:"draw",value:function(t){var e=this.size/2;t.beginPath(),t.moveTo(this.x,this.y),t.lineTo(this.x+e,this.y),t.lineTo(this.x,this.y+e),t.lineTo(this.x-e,this.y),t.lineTo(this.x,this.y),t.lineWidth=3,t.strokeStyle="purple",t.stroke(),t.closePath()}},{key:"updatePosition",value:function(t){}}])&&p(e.prototype,n),s}(r);function v(t){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function w(t,e){return(w=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function x(t,e){return!e||"object"!==v(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function k(t){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var I=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&w(t,e)}(s,t);var e,n,i,o,r=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=k(i);if(o){var n=k(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return x(this,t)});function s(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s);var n=Math.floor(720*Math.random());n>=t.ship.x-100&&n<=t.ship.x+100&&(n+=200);var i=Math.floor(720*Math.random());return(e=r.call(this,n,i,20,"green",0,0)).speed=.7,e.points=30,e}return e=s,(n=[{key:"draw",value:function(t){var e=this.size/2,n=e/2,i=n/2+n;t.beginPath(),t.moveTo(this.x,this.y-e),t.lineTo(this.x+n,this.y-i),t.lineTo(this.x+n,this.y+i),t.lineTo(this.x,this.y+e),t.lineTo(this.x-n,this.y+i),t.lineTo(this.x-n,this.y-i),t.lineTo(this.x,this.y-e),t.lineWidth=3,t.strokeStyle=this.color,t.stroke(),t.closePath()}},{key:"updatePosition",value:function(t){var e=this,n=!1;t.bullets.forEach((function(t){var i=Math.abs(t.x-e.x)<75,o=Math.abs(t.y-e.y)<75,r=Math.abs(t.dx+e.dx)<Math.abs(t.dx),s=Math.abs(t.dy+e.dy)<Math.abs(t.dy);i&&o&&r&&s&&(e.dx<10?(e.dx=t.dx<0?5:-5,e.dy=t.dy<0?-5:5):e.dy<10?(e.dx=t.dx<0?-5:5,e.dy=t.dy<0?5:-5):(e.dx=t.dx<0?5:-5,e.dy=t.dy<0?-5:5),n=!0)})),n||(this.dx=t.ship.x-this.x<0?-this.speed:this.speed,this.dy=t.ship.y-this.y<0?-this.speed:this.speed)}}])&&g(e.prototype,n),s}(r);function E(t){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function P(t,e){return(P=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function T(t,e){return!e||"object"!==E(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function O(t){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var S=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&P(t,e)}(s,t);var e,n,i,o,r=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=O(i);if(o){var n=O(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return T(this,t)});function s(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s);var n=Math.floor(720*Math.random());n>=t.ship.x-100&&n<=t.ship.x+100&&(n+=200);var i=Math.floor(720*Math.random());return(e=r.call(this,n,i,20,"blue",0,0)).speed=.8,e.points=20,e}return e=s,(n=[{key:"draw",value:function(t){var e=this.size/2;t.beginPath(),t.moveTo(this.x,this.y-e),t.lineTo(this.x+e,this.y),t.lineTo(this.x,this.y+e),t.lineTo(this.x-e,this.y),t.lineTo(this.x,this.y-e),t.lineWidth=3,t.strokeStyle=this.color,t.stroke(),t.closePath()}},{key:"updatePosition",value:function(t){this.dx=t.ship.x-this.x<0?-this.speed:this.speed,this.dy=t.ship.y-this.y<0?-this.speed:this.speed}}])&&_(e.prototype,n),s}(r);function j(t){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function L(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function M(t,e){return(M=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function R(t,e){return!e||"object"!==j(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function C(t){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var D=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&M(t,e)}(s,t);var e,n,i,o,r=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=C(i);if(o){var n=C(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return R(this,t)});function s(t,e,n){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(i=r.call(this,t,e,3,"yellow",0,0)).angle=n,i}return e=s,(n=[{key:"draw",value:function(t){t.beginPath(),t.arc(this.x,this.y,this.size,0,2*Math.PI),t.fillStyle=this.color,t.fill(),t.closePath()}},{key:"move",value:function(t,e){this.checkBounds(t.ship),this.dx=(e+4)*Math.cos(this.angle),this.dy=(e+4)*Math.sin(this.angle),this.x+=this.dx,this.y+=this.dy}},{key:"checkBounds",value:function(t){(this.x>720-t.size||this.x<t.size)&&(this.x=t.x,this.y=t.y,this.angle=t.angle),(this.y>540-t.size||this.y<t.size)&&(this.y=t.y,this.x=t.x,this.angle=t.angle)}}])&&L(e.prototype,n),s}(r);function H(t){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function z(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function B(t,e){return(B=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function A(t,e){return!e||"object"!==H(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function F(t){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var G=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&B(t,e)}(s,t);var e,n,i,o,r=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=F(i);if(o){var n=F(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return A(this,t)});function s(t,e,n,i){var o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s);var a=Math.random();a=a>.5?-a:a;var c=Math.random();return c=c>.5?-c:c,(o=r.call(this,t,e,1,n,a,c)).life=0,o.maxLife=i,o}return e=s,(n=[{key:"draw",value:function(t){this.life++,t.beginPath(),t.arc(this.x,this.y,this.size,0,2*Math.PI),t.fillStyle=this.color,t.fill(),t.closePath()}},{key:"updatePosition",value:function(){}}])&&z(e.prototype,n),s}(r);function U(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var N=function(){function t(e,n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.ctx=e,this.input=n,this.sound=i,this.newFrame=this.newFrame.bind(this),this.resume=this.resume.bind(this),this.restart=this.restart.bind(this),this.ship=new h(t.WIDTH/2,t.HEIGHT/2),this.points=0,this.highscore=t.BASE_HIGHSCORE,this.difficulty=t.INITIAL_DIFFICULTY,this.bullets=[],this.message="",this.enemyInfo={wander:{spawn_rate:2500,last_spawn:null},follow:{spawn_rate:5e3,last_spawn:null},avoider:{spawn_rate:8e3,last_spawn:null}},this.gameInfo={points:document.getElementById("points"),lives:document.getElementById("lives"),bombs:document.getElementById("bombs"),highscore:document.getElementById("highscore"),message:document.getElementById("message"),overlay:document.getElementById("canvas-overlay")},this.input.attachHandlers(this),this.updateGameInfoDisplay()}var e,n;return e=t,(n=[{key:"start",value:function(){this.enemies=[],this.bullets=[],this.fillBullets(),this.particles=[],this.sound.play("background"),this.playing=!0,requestAnimationFrame(this.newFrame)}},{key:"pause",value:function(){this.playing=!1,this.sound.pause(),this.message="Paused. Click to resume.",this.gameInfo.overlay.classList.remove("d-none"),this.gameInfo.overlay.addEventListener("click",this.resume),this.updateGameInfoDisplay()}},{key:"resume",value:function(){this.playing=!0,this.sound.play("background"),this.message="",this.gameInfo.overlay.classList.add("d-none"),this.gameInfo.overlay.removeEventListener("click",this.resume),requestAnimationFrame(this.newFrame),this.updateGameInfoDisplay()}},{key:"restart",value:function(){this.gameInfo.overlay.classList.add("d-none"),this.gameInfo.overlay.removeEventListener("click",this.restart),this.message="",this.points=0,this.ship.color="white",this.ship.lives=2,this.ship.bombs=2,this.difficulty=t.INITIAL_DIFFICULTY,this.updateGameInfoDisplay(),this.start()}},{key:"bomb",value:function(){var t=this;this.ship.bombs>0&&(this.sound.play("bomb"),this.ship.bombs-=1,this.createParticles(this.ship.x,this.ship.y,this.ship.color),this.points+=100,this.enemies.forEach((function(e){t.createParticles(e.x,e.y,e.color),t.points+=e.points})),this.enemies=[],this.updateGameInfoDisplay())}},{key:"newFrame",value:function(e){this.difficulty+=t.DIFFICULTY_DELTA,this.addEnemies(e),this.move(),this.checkShipCollision(),this.checkBulletCollision(),this.draw(),this.checkParticleLife(),this.playing&&requestAnimationFrame(this.newFrame)}},{key:"move",value:function(){var t=this;this.ship.move(this),this.bullets.forEach((function(e,n){e.move(t,n)})),this.enemies.forEach((function(e){e.move(t)})),this.particles.forEach((function(e){e.move(t)}))}},{key:"addEnemies",value:function(t){if(null===this.enemyInfo.wander.last_spawn)return this.enemies.push(new b(this)),this.enemies.push(new b(this)),this.enemies.push(new b(this)),this.enemies.push(new b(this)),this.enemyInfo.wander.last_spawn=t,this.enemyInfo.follow.last_spawn=t,void(this.enemyInfo.avoider.last_spawn=t);t-this.enemyInfo.wander.last_spawn>=this.enemyInfo.wander.spawn_rate-this.difficulty&&(this.enemies.push(new b(this)),this.enemies.push(new b(this)),this.enemyInfo.wander.last_spawn=t),t-this.enemyInfo.follow.last_spawn>=this.enemyInfo.follow.spawn_rate-this.difficulty&&(this.enemies.push(new S(this)),this.enemyInfo.follow.last_spawn=t),t-this.enemyInfo.avoider.last_spawn>=this.enemyInfo.avoider.spawn_rate-this.difficulty&&(this.enemies.push(new I(this)),this.enemyInfo.avoider.last_spawn=t)}},{key:"checkShipCollision",value:function(){var e=this;this.enemies.forEach((function(n){e.ship.x>=n.x-n.width&&e.ship.x<=n.x+n.width&&e.ship.y>=n.y-n.width&&e.ship.y<=n.y+n.width&&(e.ship.color="black",e.sound.play("death"),e.createParticles(e.ship.x,e.ship.y,"red"),e.ship.lives>0?(e.enemies=[],e.ship.lives-=1,e.ship.x=t.WIDTH/2,e.ship.y=t.HEIGHT/2,e.ship.color="white",e.enemies.push(new S(e)),e.enemies.push(new S(e)),e.enemies.push(new S(e))):(e.bullets=[],e.sound.pause(),e.playing=!1,e.message="Game Over. Click to Play Again.",e.points>e.highscore&&(e.highscore=e.points,e.message="New High Score! Click to Play Again."),e.gameInfo.overlay.classList.remove("d-none"),e.gameInfo.overlay.addEventListener("click",e.restart)),e.updateGameInfoDisplay())}))}},{key:"checkBulletCollision",value:function(){var t=this;this.bullets.forEach((function(e){t.enemies.forEach((function(n,i){e.x>=n.x-n.width&&e.x<=n.x+n.width&&e.y>=n.y-n.width&&e.y<=n.y+n.width&&(t.createParticles(n.x,n.y,n.color),t.points+=n.points,t.enemies.splice(i,1),t.sound.play("kill"),t.updateGameInfoDisplay())}))}))}},{key:"updateGameInfoDisplay",value:function(){this.gameInfo.points.innerHTML=this.points,this.gameInfo.lives.innerHTML=this.ship.lives,this.gameInfo.bombs.innerHTML=this.ship.bombs,this.gameInfo.highscore.innerHTML=this.highscore,this.gameInfo.message.innerHTML=this.message}},{key:"fillBullets",value:function(){for(var e=0;e<t.BULLET_COUNT;e++)this.bullets.push(new D(this.ship.x,this.ship.y,this.ship.angle))}},{key:"checkParticleLife",value:function(){var t=this;this.particles.forEach((function(e,n){e.life>=e.maxLife&&t.particles.splice(n,1)}))}},{key:"createParticles",value:function(e,n,i){for(var o=0;o<t.NUM_PARTICLES;o++)this.particles.push(new G(e,n,i,t.PARTICLE_MAX_LIFE))}},{key:"draw",value:function(){var e=this;this.ctx.clearRect(0,0,t.WIDTH,t.HEIGHT),this.ship.draw(this.ctx),this.bullets.forEach((function(t){t.draw(e.ctx)})),this.enemies.forEach((function(t){t.draw(e.ctx)})),this.particles.forEach((function(t){t.draw(e.ctx)}))}}])&&U(e.prototype,n),t}();N.WIDTH=720,N.HEIGHT=540,N.PARTICLE_MAX_LIFE=40,N.NUM_PARTICLES=30,N.BULLET_COUNT=10,N.INITIAL_DIFFICULTY=.001,N.DIFFICULTY_DELTA=.003,N.BASE_HIGHSCORE=1e3;const W=N;function Y(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var q=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.background=new Audio("../public/audio/rolemusicPirateAndDancer.mp3"),this.bomb=new Audio("../public/audio/cat.wav"),this.death=new Audio("../public/audio/death-scream.wav"),this.kill=new Audio("../public/audio/enemy-destroy.wav"),this.star=new Audio("../public/audio/hadokowa_get_a_dog_pet_a_dog.mp3"),this.background.loop=!0,this.elements={volume:document.getElementById("volume"),mute:document.getElementById("mute")},this.updateVolume(this.elements.volume.value)}var e,n;return e=t,(n=[{key:"attachHandlers",value:function(){var t=this;this.elements.mute.addEventListener("change",(function(){t.elements.mute.checked?t.mute():t.unmute()})),this.elements.volume.addEventListener("change",(function(){t.updateVolume(t.elements.volume.value)}))}},{key:"play",value:function(t){this[t].play()}},{key:"all",value:function(){return[this.background,this.bomb,this.death,this.kill,this.star]}},{key:"updateVolume",value:function(t){this.all().forEach((function(e){e.volume=t}))}},{key:"mute",value:function(){this.all().forEach((function(t){t.muted=!0}))}},{key:"unmute",value:function(){this.all().forEach((function(t){t.muted=!1}))}},{key:"pause",value:function(){this.background.pause()}}])&&Y(e.prototype,n),t}();function V(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var Z=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.keyDownHandler=this.keyDownHandler.bind(this),this.keyUpHandler=this.keyUpHandler.bind(this),this.pressed={right:!1,left:!1,up:!1,down:!1,rotateLeft:!1,rotateRight:!1}}var e,n;return e=t,(n=[{key:"attachHandlers",value:function(t){this.game=t,document.addEventListener("keydown",this.keyDownHandler,!1),document.addEventListener("keyup",this.keyUpHandler,!1)}},{key:"keyDownHandler",value:function(t){switch(t.keyCode){case 65:this.pressed.left=!0;break;case 37:this.pressed.rotateLeft=!0;break;case 87:this.pressed.up=!0;break;case 68:this.pressed.right=!0;break;case 39:this.pressed.rotateRight=!0;break;case 83:this.pressed.down=!0;break;case 80:this.game.pause();break;case 82:this.game.playing=!1,this.game.bullets=[];break;case 32:t.preventDefault(),this.game.playing&&this.game.bomb()}}},{key:"keyUpHandler",value:function(t){switch(t.keyCode){case 65:this.pressed.left=!1;break;case 37:this.pressed.rotateLeft=!1;case 87:this.pressed.up=!1;break;case 68:this.pressed.right=!1;break;case 39:this.pressed.rotateRight=!1;break;case 83:this.pressed.down=!1;break;case 82:this.game.restart()}}}])&&V(e.prototype,n),t}();document.addEventListener("DOMContentLoaded",(function(){var t=document.getElementById("canvas");t.width=W.WIDTH,t.height=W.HEIGHT;var e=t.getContext("2d"),n=new Z,i=new q;i.attachHandlers();var o=new W(e,n,i);document.getElementById("startGame").addEventListener("click",(function(){this.classList.add("d-none"),o.start()})),document.getElementById("how-to").addEventListener("click",(function(){o.playing&&o.pause(),document.getElementById("how-to-modal").classList.remove("d-none")})),document.getElementById("how-to-modal").addEventListener("click",(function(){document.getElementById("how-to-modal").classList.add("d-none")})),document.getElementById("close-modal").addEventListener("click",(function(){document.getElementById("how-to-modal").classList.add("d-none")}))}))})()})();